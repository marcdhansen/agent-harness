{
    "phases": [
        {
            "id": "finalization",
            "name": "Phase 5: Finalization",
            "status": "MANDATORY",
            "description": "Quality gates, atomic commits, TDD validation, and PR creation.",
            "checks": [
                {
                    "id": "git_clean",
                    "description": "Verify working tree is clean",
                    "type": "BLOCKER",
                    "validator": "check_git_status"
                },
                {
                    "id": "atomic_commits",
                    "description": "Validate atomic commit requirements and conventional format",
                    "type": "BLOCKER",
                    "validator": "validate_atomic_commits"
                },
                {
                    "id": "tdd_compliance",
                    "description": "Validate TDD compliance (implementation accompanied by tests)",
                    "type": "BLOCKER",
                    "validator": "validate_tdd_compliance"
                },
                {
                    "id": "reflection_invoked",
                    "description": "Verify structured reflection was captured (.reflection_input.json)",
                    "type": "BLOCKER",
                    "validator": "check_reflection_invoked"
                },
                {
                    "id": "handoff_compliance",
                    "description": "Verify hand-off documentation for multi-phase tasks",
                    "type": "BLOCKER",
                    "validator": "check_handoff_compliance"
                },
                {
                    "id": "handoff_pr_verification",
                    "description": "Verify no orphaned or multiple open PRs for the task",
                    "type": "BLOCKER",
                    "validator": "check_handoff_pr_verification"
                },
                {
                    "id": "beads_pr_sync",
                    "description": "Verify PR references the active Beads issue",
                    "type": "BLOCKER",
                    "validator": "check_beads_pr_sync"
                },
                {
                    "id": "pr_review_issue",
                    "description": "Verify P0 PR review issue exists",
                    "type": "BLOCKER",
                    "validator": "check_pr_review_issue_created"
                },
                {
                    "id": "pr_exists",
                    "description": "Verify Pull Request exists for code changes",
                    "type": "BLOCKER",
                    "validator": "check_pr_exists"
                },
                {
                    "id": "todo_completion",
                    "description": "Verify all tasks in task.md are completed",
                    "type": "BLOCKER",
                    "validator": "check_todo_completion"
                },
                {
                    "id": "pr_decomposition",
                    "description": "Verify decomposed PRs are properly closed",
                    "type": "BLOCKER",
                    "validator": "check_pr_decomposition_closure"
                },
                {
                    "id": "child_pr_linkage",
                    "description": "Verify child PRs reference parent issues",
                    "type": "BLOCKER",
                    "validator": "check_child_pr_linkage"
                },
                {
                    "id": "workspace_cleanup",
                    "description": "Verify the workspace is clean of temporary artifacts",
                    "type": "BLOCKER",
                    "validator": "check_workspace_cleanup"
                }
            ]
        }
    ]
}