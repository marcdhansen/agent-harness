{"id":"agent-harness-1wj","title":"PR Workflow + Handoff Updates","description":"Modify SOP to require all code changes via PRs. Update Finalization phase to create PRs instead of direct merge. Update Handoff Protocol to include PR link. Add Turbo Mode exception for admin-only changes. Prevent self-review. PR approval is blocking - next agent reviews before starting their work.","status":"open","priority":1,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T22:13:12.659855Z","created_by":"Marc Hansen","updated_at":"2026-02-07T22:13:12.659855Z","dependencies":[{"issue_id":"agent-harness-1wj","depends_on_id":"agent-harness-pr6","type":"blocks","created_at":"2026-02-07T22:13:37.050094Z","created_by":"Marc Hansen"},{"issue_id":"agent-harness-1wj","depends_on_id":"agent-harness-qzo","type":"blocks","created_at":"2026-02-07T22:13:38.587967Z","created_by":"Marc Hansen"}]}
{"id":"agent-harness-1x5","title":"Update SOP to include Protocol Compliance verification in session summaries","description":"Add requirement to session summary/finalization that includes verification of protocol compliance via Orchestrator, e.g., 'Protocol Compliance: 100% verified via Orchestrator.' This ensures all sessions document their adherence to SOP requirements.","status":"closed","priority":0,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T21:23:08.040153Z","created_by":"Marc Hansen","updated_at":"2026-02-07T22:01:33.587861Z","closed_at":"2026-02-07T22:01:33.587861Z","close_reason":"Closed","comments":[{"id":1,"issue_id":"agent-harness-1x5","author":"Marc Hansen","text":"## Implementation Plan: Protocol Compliance Verification\n\n### Objective\nUpdate SOP documentation to require Protocol Compliance verification in all session summaries.\n\n### Proposed Changes\n1. **[06_finalization.md](file:///Users/marchansen/.agent/docs/phases/06_finalization.md)**: Add mandatory protocol verification step.\n2. **[SOP_COMPLIANCE_CHECKLIST.md](file:///Users/marchansen/.agent/docs/SOP_COMPLIANCE_CHECKLIST.md)**: Add checklist item for compliance percentage.\n3. **[SKILL.md](file:///Users/marchansen/.gemini/antigravity/skills/retrospective/SKILL.md)**: Integrate compliance reporting into the retrospective process.\n\n### Verification\nRun Orchestrator finalize check: `python ~/.gemini/antigravity/skills/Orchestrator/scripts/check_protocol_compliance.py --finalize`","created_at":"2026-02-07T21:48:10Z"}]}
{"id":"agent-harness-2rn","title":"Standardize structured JSON for reflection capture","description":"## Problem\nReflection currently uses interactive prompts or ad-hoc formats. During session, agent discovered that using a structured JSON template was more effective.\n\n## Proposed Enhancement\nMake .reflection_input.json the standard reflection artifact:\n\n```json\n{\n  \"session_name\": \"string (required)\",\n  \"outcome\": \"SUCCESS | PARTIAL | FAILURE (required)\",\n  \"duration_hours\": \"number\",\n  \"success_metrics\": {\"key\": \"value\"},\n  \"technical_learnings\": [\"string\"],\n  \"challenges_overcome\": [\"string\"],\n  \"protocol_issues\": [\"string\"],\n  \"process_improvements\": [\"string\"],\n  \"quantitative_results\": {\"key\": \"value\"}\n}\n```\n\n## Benefits\n- Machine-readable for validation scripts\n- Consistent format across all sessions\n- Non-interactive (works in automated environments)\n- Aggregatable for pattern analysis\n- Reduces cognitive load - fill template vs free-form\n\n## Changes Needed\n1. Update SOP to require .reflection_input.json\n2. Update --retrospective check to verify JSON exists\n3. Update /reflect skill to generate structured JSON\n\n## Origin\nEmergent method discovered during session - should become standard.","status":"open","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T15:58:18.649593Z","created_by":"Marc Hansen","updated_at":"2026-02-07T15:58:18.649593Z"}
{"id":"agent-harness-4km","title":"Optimize initialization briefing for administrative sessions","description":"Update the initialization briefing logic to detect administrative/non-implementation tasks and provide a truncated, low-cognitive-load brief.","status":"open","priority":3,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:21:58.740294Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:21:58.740294Z"}
{"id":"agent-harness-6qg","title":"Convert SOP checklists to JSON format","description":"## Problem\nSOP checklists are currently in Markdown format with `- [ ]` / `- [x]` checkboxes. Agents and validation scripts must parse markdown to track state, which is error-prone.\n\n## Proposed Solution\nConvert phase checklists to structured JSON:\n\n```json\n{\n  \"phase\": \"finalization\",\n  \"status\": \"in_progress\",\n  \"items\": [\n    {\"id\": \"quality_gates\", \"label\": \"Run quality gates\", \"complete\": true},\n    {\"id\": \"git_clean\", \"label\": \"Git status clean\", \"complete\": false}\n  ],\n  \"blockers\": [\"git_clean\"],\n  \"timestamp\": \"2026-02-07T16:00:00Z\"\n}\n```\n\n## Benefits\n- **Parsing**: Native structure vs regex for markdown\n- **State tracking**: Boolean fields vs text manipulation\n- **Validation**: Schema validation vs manual verification\n- **Programmatic updates**: Object mutation vs string replacement\n- **Orchestrator integration**: Check `blockers.length === 0` vs regex\n\n## Implementation\n1. Create JSON schema for phase checklists\n2. Generate JSON files for each phase\n3. Update Orchestrator to read/validate JSON\n4. Keep markdown for human readability (generated from JSON)\n\n## Origin\nFollows pattern established for .reflection_input.json - structured data reduces cognitive load.","status":"open","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:02:38.331261Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:02:38.331261Z"}
{"id":"agent-harness-a5r","title":"Orchestrator Test Suite Epic","description":"Create comprehensive test suite for SOP compliance validation. Key tests: Turbo-to-Full escalation detection, mode blocking for code changes, phase validation coverage.","status":"closed","priority":1,"issue_type":"epic","assignee":"Marc Hansen","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:32:00.39272Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:56:31.23828Z","closed_at":"2026-02-07T16:56:31.23828Z","close_reason":"Closed","labels":["milestone:sop_turbo"]}
{"id":"agent-harness-a5r.1","title":"Design SOP Turbo Test Protocol","description":"Define the test cases and matrix for SOP Turbo mode escalation and blocking logic. Include CLI flag combinations and file change scenarios.","status":"closed","priority":1,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:42:48.672945Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:56:10.193175Z","closed_at":"2026-02-07T16:56:10.193175Z","close_reason":"Closed","labels":["milestone:sop_turbo"],"dependencies":[{"issue_id":"agent-harness-a5r.1","depends_on_id":"agent-harness-a5r","type":"parent-child","created_at":"2026-02-07T16:42:48.674347Z","created_by":"Marc Hansen"}]}
{"id":"agent-harness-a5r.2","title":"Implement Turbo Escalation Integration Tests","description":"Create pytest-based integration tests that verify automatic escalation from Turbo to Full mode when code changes are detected.","status":"closed","priority":1,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:42:55.250552Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:56:10.274474Z","closed_at":"2026-02-07T16:56:10.274474Z","close_reason":"Closed","labels":["milestone:sop_turbo"],"dependencies":[{"issue_id":"agent-harness-a5r.2","depends_on_id":"agent-harness-a5r","type":"parent-child","created_at":"2026-02-07T16:42:55.251758Z","created_by":"Marc Hansen"}]}
{"id":"agent-harness-a5r.3","title":"Implement Mode-Blocking Validation Tests","description":"Create tests to verify that implementation-specific quality gates (like red-team/devil's advocate) block administrative modes.","status":"closed","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:43:01.756493Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:56:31.153792Z","closed_at":"2026-02-07T16:56:31.153792Z","close_reason":"Closed","labels":["milestone:sop_turbo"],"dependencies":[{"issue_id":"agent-harness-a5r.3","depends_on_id":"agent-harness-a5r","type":"parent-child","created_at":"2026-02-07T16:43:01.757633Z","created_by":"Marc Hansen"}]}
{"id":"agent-harness-a5r.4","title":"Implement Phase-Transition Coverage Tests","description":"Create unit tests for the Orchestrator's phase transition logic, ensuring correct state machine behavior between Init, Exec, and Finalization.","status":"closed","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:43:08.488392Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:56:10.373147Z","closed_at":"2026-02-07T16:56:10.373147Z","close_reason":"Closed","labels":["milestone:sop_turbo"],"dependencies":[{"issue_id":"agent-harness-a5r.4","depends_on_id":"agent-harness-a5r","type":"parent-child","created_at":"2026-02-07T16:43:08.489542Z","created_by":"Marc Hansen"}]}
{"id":"agent-harness-idd","title":"Implement 'Turbo Create' protocol for lightweight administrative tasks","description":"Create a simplified protocol for non-implementation tasks (like issue management) that skips heavy-weight initialization briefs and quality gates while maintaining audit trails.","status":"closed","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:21:51.389408Z","created_by":"Marc Hansen","updated_at":"2026-02-07T17:09:18.181945Z","closed_at":"2026-02-07T17:09:18.181949Z"}
{"id":"agent-harness-kxh","title":"Enhance --init check with pre-flight validation","description":"The --init check should catch repository setup issues automatically:\n\n## Problem\nDuring session wrap-up, agent discovered beads database was missing but only logged it internally instead of surfacing to user. This is a gap in automated validation.\n\n## Proposed Enhancement\nEnhance check_protocol_compliance.py --init to verify:\n- [ ] Beads database exists (or offer to create)\n- [ ] Required git hooks installed  \n- [ ] All tools at expected versions\n- [ ] Workspace structure valid (e.g., .agent/ directory)\n\n## Benefits\n- Reduces agent cognitive load\n- Catches setup issues before work begins\n- Prevents session failures due to missing prerequisites\n\n## Related\n- Retrospective learning from session 53cd84d4-7935-4d2c-8f0e-457445a924d6","status":"closed","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T15:51:04.939969Z","created_by":"Marc Hansen","updated_at":"2026-02-07T17:29:54.058751Z","closed_at":"2026-02-07T17:29:54.058755Z"}
{"id":"agent-harness-p0z","title":"Create dot-agent repo to version control ~/.agent","description":"## Problem\nThe ~/.agent directory contains universal SOP documentation, workflows, and skills that should be version-controlled and shared, but currently it is not tracked in git.\n\n## Proposed Solution\nCreate a 'dot-agent' repository (similar to dot-gemini) to track:\n\n### Should Track\n- docs/ (SOP, phases, compliance checklists)\n- workflows/ (reusable workflows)  \n- skills/ (agent capabilities)\n- rules/ (project-specific rules)\n- AGENTS.md (universal protocol)\n\n### Should NOT Track (.gitignore)\n- session_locks/ (ephemeral, per-machine)\n- *.log files (runtime artifacts)\n- state.json (session-specific)\n- *.tmp files\n\n## Benefits\n- Version history for SOP changes\n- Shareable across machines\n- Backup and recovery\n- Track who changed what and when\n\n## Implementation\n1. Create GitHub repo: marcdhansen/dot-agent\n2. Initialize git in ~/.agent\n3. Add appropriate .gitignore\n4. Push initial content\n\n## Origin\nRetrospective learning: changes to SOP docs were not being tracked.","status":"open","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T15:59:24.218296Z","created_by":"Marc Hansen","updated_at":"2026-02-07T15:59:24.218296Z"}
{"id":"agent-harness-pr6","title":"Code Review Skill","description":"Create simple checklist-based code review skill. Include: logic correctness check, test coverage check, PR size validation (can reject if too large), approval/rejection/request-changes flow. Reviewer focuses on logic, not CI checks. Support back-and-forth iteration.","status":"open","priority":1,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T22:13:21.445238Z","created_by":"Marc Hansen","updated_at":"2026-02-07T22:13:21.445238Z"}
{"id":"agent-harness-qzo","title":"PR Template for Agent Reviews","description":"Create standardized PR template with: beads issue reference, summary of changes, testing performed, files modified, session context for reviewer. Template helps next agent understand changes quickly for review.","status":"closed","priority":2,"issue_type":"task","assignee":"Marc Hansen","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T22:13:23.219275Z","created_by":"Marc Hansen","updated_at":"2026-02-07T22:18:37.613219Z","closed_at":"2026-02-07T22:18:37.613219Z","close_reason":"Closed"}
{"id":"agent-harness-v0o","title":"Enforce Rebase-Squash Strategy in PR Workflow","description":"Root Cause: PR #2 was merged using GitHub's default merge commit strategy instead of required rebase-squash, violating SOP git-workflow.md line 10 and SOP_COMPLIANCE_CHECKLIST.md line 84.\n\nRequirements:\n1. Update Orchestrator validate_atomic_commits() function to detect multiple commits and merge commits\n2. Implement test suite (test_orchestrator_atomic_commits.py) with 5 test cases\n3. Update PR template with pre-merge checklist\n4. Add browser automation to select 'Squash and merge' option\n5. Integrate validation into CI/CD pipeline\n\nSuccess Criteria:\n- All tests passing (5/5)\n- Orchestrator blocks PRs with \u003e1 commit or merge commits\n- \u003e90% code coverage for validation logic","status":"open","priority":1,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-08T00:16:31.991339Z","created_by":"Marc Hansen","updated_at":"2026-02-08T00:16:31.991339Z"}
{"id":"agent-harness-vul","title":"Develop 'beads-manager' skill for cross-repo issue management","description":"Create a new skill to manage beads issues across multiple repositories (agent-harness, LightRAG, etc.) from a single context, reducing friction for administrative coordination.","status":"open","priority":2,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:21:54.950906Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:21:54.950906Z"}
{"id":"agent-harness-ypf","title":"Rename repository from LightRAG_gemini to LightRAG++","description":"Update all references of LightRAG_gemini to LightRAG++ across the codebase, documentation, and configuration files.","status":"closed","priority":0,"issue_type":"task","owner":"hansen.marc@gmail.com","created_at":"2026-02-07T16:14:28.286326Z","created_by":"Marc Hansen","updated_at":"2026-02-07T16:15:35.144778Z","closed_at":"2026-02-07T16:15:35.144778Z","close_reason":"Created in wrong repo. Recreated in LightRAG as lightrag-ssj9."}
